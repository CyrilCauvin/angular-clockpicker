!function(){"use strict";angular.module("angular-clockpicker",["ng.deviceDetector","angularMoment"]).factory("clockpickerService",function(){function a(a,b){var c=b&&b.match(a?/^(\d{1,2}):(\d{1,2})\s*(AM|PM)$/i:/^(\d{1,2}):(\d{1,2})$/);if(c){var d=c[3]&&"PM"===c[3].toUpperCase(),e=parseInt(c[1],10),f=parseInt(c[2],10);if(!(f>59)){if(a){if(1>e||e>12)return;e=e%12+(d?12:0)}else if(e>23)return;return{hour:e,minute:f}}}}return{parseTime:a}}).constant("clockpickerDefaultOptions",{twelvehour:!0,autoclose:!1,donetext:"ok"}).directive("lngClockpicker",["clockpickerService","clockpickerDefaultOptions","moment","$timeout","detectUtils",function(a,b,c,d,e){function f(d,f,g,h){function i(){return h.$modelValue?h.$modelValue.clone():c()}var j=angular.extend({},b,d.$eval(g.lngClockpickerOptions)),k=j.twelvehour?"hh:mm A":"HH:mm";f.clockpicker(j),e.isMobile()&&!f.is("[readonly]")&&(f.attr("readonly","readonly"),f.addClass("ignore-readonly")),i();var l=a.parseTime.bind(null,j.twelvehour);f.blur(function(){h.$valid&&f.val(i().local().format(k))}),h.$render=function(a){f.val(h.$viewValue||"")},h.$parsers.push(function(a){var b=l(a);if(h.$setValidity("badFormat",!!b),!b)return i();var d=i().isUTC(),e=c(i());return e=e.local(),e.hour(b.hour),e.minute(b.minute),e.second(0),d?e.utc():e}),h.$formatters.push(function(a){var b=l(h.$viewValue);if(!a)return"";var c=a.clone().local(),d=!b||b.hour===c.hour()&&b.minute===c.minute();return f.is(":focus")&&d?h.$viewValue:c.format(k)})}return{restrict:"A",require:"ngModel",link:f}}])}();